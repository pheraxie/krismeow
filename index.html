<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Krismeow</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Quicksand', sans-serif;
    }
    
    * {
      box-sizing: border-box;
    }

    .starry-sky {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
      transition: all 1s ease;
    }

    .starry-sky.day {
      background: linear-gradient(180deg, 
        #87CEEB 0%, 
        #98D8E8 25%,
        #B0E0E6 50%, 
        #FFB6C1 75%,
        #FFA07A 100%
      );
    }

    .starry-sky.night {
      background: linear-gradient(180deg, 
        #0a0e27 0%, 
        #1a1547 25%,
        #2d1b69 50%, 
        #4a2b7a 75%,
        #6b3d8f 100%
      );
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s ease-in-out infinite;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.2);
      }
    }

    .shooting-star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
      animation: shoot 2s linear;
    }

    @keyframes shoot {
      0% {
        transform: translateX(0) translateY(0);
        opacity: 1;
      }
      100% {
        transform: translateX(300px) translateY(300px);
        opacity: 0;
      }
    }

    .ai-bubble {
      position: fixed;
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      box-shadow: 0 10px 40px rgba(102, 126, 234, 0.6);
      cursor: grab;
      z-index: 1000;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      user-select: none;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) translateX(0px);
      }
      25% {
        transform: translateY(-30px) translateX(20px);
      }
      50% {
        transform: translateY(-10px) translateX(-20px);
      }
      75% {
        transform: translateY(-40px) translateX(10px);
      }
    }

    .ai-bubble:hover {
      animation-play-state: paused;
      transform: scale(1.1);
    }

    .ai-eyes {
      display: flex;
      gap: 15px;
      margin-bottom: 8px;
    }

    .ai-eye {
      width: 18px;
      height: 18px;
      background: white;
      border-radius: 50%;
      position: relative;
      animation: blink 4s infinite;
    }

    .ai-pupil {
      width: 8px;
      height: 8px;
      background: #1a1a3e;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: look-around 5s infinite;
    }

    @keyframes blink {
      0%, 98%, 100% {
        transform: scaleY(1);
      }
      99% {
        transform: scaleY(0.1);
      }
    }

    @keyframes look-around {
      0%, 100% {
        transform: translate(-50%, -50%);
      }
      25% {
        transform: translate(-30%, -50%);
      }
      50% {
        transform: translate(-50%, -30%);
      }
      75% {
        transform: translate(-70%, -50%);
      }
    }

    .ai-mouth {
      width: 30px;
      height: 15px;
      border: 3px solid white;
      border-top: none;
      border-radius: 0 0 30px 30px;
      animation: talk 3s infinite;
      transition: all 0.3s ease;
    }

    .ai-mouth.sad {
      border-radius: 30px 30px 0 0;
      border-top: 3px solid white;
      border-bottom: none;
      transform: translateY(-5px);
    }

    .ai-mouth.angry {
      width: 35px;
      height: 4px;
      border-radius: 0;
      background: white;
      border: none;
    }

    @keyframes talk {
      0%, 100% {
        height: 15px;
      }
      50% {
        height: 8px;
      }
    }

    .ai-thought-bubble {
      position: fixed;
      width: 220px;
      z-index: 1001;
      animation: thoughtFadeIn 0.5s ease;
      pointer-events: none;
      filter: drop-shadow(0 4px 12px rgba(102, 126, 234, 0.3));
    }

    .ai-thought-bubble.hidden {
      display: none;
    }

    @keyframes thoughtFadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .thought-cloud {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50px;
      padding: 12px 18px;
      position: relative;
      box-shadow: 0 8px 32px rgba(102, 126, 234, 0.2);
    }

    .thought-cloud::before {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%) translateX(25px);
      width: 20px;
      height: 20px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: none;
      border-left: none;
    }

    .thought-cloud::after {
      content: '';
      position: absolute;
      bottom: -28px;
      left: 50%;
      transform: translateX(-50%) translateX(15px);
      width: 12px;
      height: 12px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top: none;
      border-left: none;
    }

    .floating-random-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }

    .floating-random-btn.active {
      display: flex;
    }

    .floating-random-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 32px rgba(102, 126, 234, 0.7);
    }

    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 8px 24px rgba(102, 126, 234, 0.5);
      }
      50% {
        box-shadow: 0 8px 32px rgba(102, 126, 234, 0.8);
      }
    }

    .nav-link {
      position: relative;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: currentColor;
      transition: width 0.3s ease;
    }

    .nav-link:hover::after,
    .nav-link.active::after {
      width: 100%;
    }

    .nav-icon {
      width: 24px;
      height: 24px;
      position: relative;
      display: inline-block;
      vertical-align: middle;
    }

    .home-icon {
      width: 0;
      height: 0;
      border-left: 12px solid transparent;
      border-right: 12px solid transparent;
      border-bottom: 15px solid currentColor;
      position: relative;
      margin: 0 auto;
    }

    .home-icon::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 8px;
      transform: translateX(-50%);
      width: 8px;
      height: 10px;
      background: currentColor;
      border-radius: 2px;
    }

    .content-icon {
      position: relative;
      width: 24px;
      height: 18px;
      background: currentColor;
      border-radius: 3px;
      animation: filmPulse 2s ease-in-out infinite;
    }

    .content-icon::before,
    .content-icon::after {
      content: '';
      position: absolute;
      width: 4px;
      height: 100%;
      background: #0a0e27;
      top: 0;
    }

    .content-icon::before {
      left: 6px;
      animation: filmScroll 1s linear infinite;
    }

    .content-icon::after {
      right: 6px;
      animation: filmScroll 1s linear infinite 0.5s;
    }

    @keyframes filmPulse {
      0%, 100% {
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      }
      50% {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
      }
    }

    @keyframes filmScroll {
      0%, 100% {
        opacity: 0.3;
      }
      50% {
        opacity: 1;
      }
    }

    .settings-icon {
      position: relative;
      width: 24px;
      height: 24px;
      animation: rotate 8s linear infinite;
    }

    .settings-icon::before {
      content: '';
      position: absolute;
      width: 16px;
      height: 16px;
      border: 3px solid currentColor;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .settings-icon::after {
      content: '';
      position: absolute;
      width: 24px;
      height: 24px;
      top: 0;
      left: 0;
      background: 
        linear-gradient(currentColor, currentColor) no-repeat center 0/4px 8px,
        linear-gradient(currentColor, currentColor) no-repeat center 100%/4px 8px,
        linear-gradient(currentColor, currentColor) no-repeat 0 center/8px 4px,
        linear-gradient(currentColor, currentColor) no-repeat 100% center/8px 4px;
    }

    @keyframes rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    .extra-icon {
      position: relative;
      width: 24px;
      height: 24px;
      animation: sparkle 1.5s ease-in-out infinite;
    }

    .extra-icon::before {
      content: '';
      position: absolute;
      width: 4px;
      height: 24px;
      background: currentColor;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 2px;
    }

    .extra-icon::after {
      content: '';
      position: absolute;
      width: 24px;
      height: 4px;
      background: currentColor;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      border-radius: 2px;
    }

    @keyframes sparkle {
      0%, 100% {
        filter: brightness(1) drop-shadow(0 0 2px currentColor);
        transform: scale(1);
      }
      50% {
        filter: brightness(1.5) drop-shadow(0 0 8px currentColor);
        transform: scale(1.2);
      }
    }

    .filter-icon-wrapper {
      width: 28px;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .random-icon {
      position: relative;
      width: 24px;
      height: 24px;
      animation: shuffle 1s ease-in-out infinite;
    }

    .random-icon::before,
    .random-icon::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 3px;
      background: currentColor;
      border-radius: 2px;
      left: 2px;
    }

    .random-icon::before {
      top: 6px;
      box-shadow: 
        0 8px 0 currentColor,
        12px -6px 0 currentColor,
        12px 8px 0 currentColor;
    }

    .random-icon::after {
      top: 14px;
      width: 15px;
    }

    @keyframes shuffle {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-2px);
      }
    }

    .recent-icon {
      position: relative;
      width: 24px;
      height: 24px;
      border: 3px solid currentColor;
      border-radius: 50%;
      animation: tick 2s ease-in-out infinite;
    }

    .recent-icon::before {
      content: '';
      position: absolute;
      width: 2px;
      height: 7px;
      background: currentColor;
      top: 3px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 1px;
    }

    .recent-icon::after {
      content: '';
      position: absolute;
      width: 2px;
      height: 9px;
      background: currentColor;
      top: 7px;
      left: 50%;
      transform-origin: top center;
      transform: translateX(-50%) rotate(90deg);
      border-radius: 1px;
    }

    @keyframes tick {
      0%, 100% {
        transform: rotate(0deg);
      }
      50% {
        transform: rotate(180deg);
      }
    }

    .videos-icon {
      position: relative;
      width: 24px;
      height: 18px;
      border: 3px solid currentColor;
      border-radius: 4px;
      animation: videoPulse 2s ease-in-out infinite;
    }

    .videos-icon::before {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-left: 10px solid currentColor;
      top: 50%;
      left: 50%;
      transform: translate(-40%, -50%);
    }

    @keyframes videoPulse {
      0%, 100% {
        box-shadow: 0 0 0 rgba(255, 255, 255, 0);
      }
      50% {
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.4);
      }
    }

    .shorts-icon {
      position: relative;
      width: 16px;
      height: 24px;
      border: 3px solid currentColor;
      border-radius: 4px;
      animation: shortsBounce 1s ease-in-out infinite;
    }

    .shorts-icon::before {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid currentColor;
      top: 50%;
      left: 50%;
      transform: translate(-40%, -50%);
    }

    @keyframes shortsBounce {
      0%, 100% {
        transform: translateY(0) scale(1);
      }
      50% {
        transform: translateY(-3px) scale(1.05);
      }
    }

    .playlist-icon {
      position: relative;
      width: 24px;
      height: 24px;
      animation: stackShift 2s ease-in-out infinite;
    }

    .playlist-icon::before,
    .playlist-icon::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 3px;
      background: currentColor;
      left: 2px;
      border-radius: 2px;
    }

    .playlist-icon::before {
      top: 4px;
      box-shadow: 0 7px 0 currentColor, 0 14px 0 currentColor;
    }

    .playlist-icon::after {
      width: 6px;
      height: 6px;
      background: transparent;
      border: 2px solid currentColor;
      border-radius: 50%;
      left: 0;
      top: 1px;
    }

    @keyframes stackShift {
      0%, 100% {
        transform: translateX(0);
      }
      50% {
        transform: translateX(2px);
      }
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }

    .video-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .video-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
    }

    .video-thumbnail {
      width: 100%;
      aspect-ratio: 16/9;
      object-fit: cover;
    }

    .video-info {
      padding: 12px;
    }

    .video-duration {
      position: absolute;
      bottom: 8px;
      right: 8px;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
    }

    .video-date {
      color: rgba(255, 255, 255, 0.6);
      font-size: 13px;
      margin-top: 6px;
    }

    .toggle-switch {
      position: relative;
      width: 60px;
      height: 30px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 15px;
      cursor: pointer;
      transition: background 0.3s;
      flex-shrink: 0;
    }

    .toggle-switch.active {
      background: #667eea;
    }

    .toggle-slider {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      transition: transform 0.3s;
    }

    .toggle-switch.active .toggle-slider {
      transform: translateX(30px);
    }

    .filter-btn {
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    .filter-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .filter-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-color: #667eea;
      box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
    }

    .settings-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 20px;
    }

    .word-of-day {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      padding: 20px;
      margin-top: 30px;
      max-width: 600px;
      width: 100%;
      animation: fadeInUp 1s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 768px) {
      .desktop-nav {
        display: flex;
        gap: 2px;
        flex-wrap: nowrap;
      }

      .nav-link {
        padding: 8px 10px !important;
        font-size: 18px;
      }

      .nav-text-desktop {
        display: none;
      }

      #siteName {
        font-size: 18px;
      }

      .ai-bubble {
        width: 70px;
        height: 70px;
        left: auto !important;
        right: 20px !important;
        top: auto !important;
        bottom: 100px !important;
      }

      .ai-eye {
        width: 14px;
        height: 14px;
      }

      .ai-pupil {
        width: 6px;
        height: 6px;
      }

      .ai-mouth {
        width: 24px;
        height: 12px;
      }

      .ai-thought-bubble {
        width: 180px;
        right: 20px !important;
        left: auto !important;
        top: auto !important;
        bottom: 180px !important;
      }

      .video-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .filter-btn span.desktop-text {
        display: none;
      }

      .player-content {
        padding: 10px;
      }

      .player-video-wrapper {
        margin-bottom: 10px;
      }

      .settings-card {
        padding: 16px;
      }

      .floating-random-btn {
        width: 50px;
        height: 50px;
        bottom: 20px;
        right: 20px;
      }

      h1 {
        font-size: 2rem !important;
      }

      h2 {
        font-size: 1.5rem !important;
      }

      .bg-white\/10 p {
        font-size: 1rem !important;
      }

      #playerVideoTitle {
        font-size: 1.25rem !important;
      }

      .word-of-day {
        padding: 15px;
        margin-top: 20px;
      }

      .nav-icon {
        width: 20px;
        height: 20px;
      }
    }

    @media (min-width: 769px) {
      .nav-icon {
        display: none;
      }

      .nav-text-desktop {
        display: inline;
      }
    }

    @media (min-width: 769px) {
      .filter-btn .filter-icon-wrapper {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .filter-btn .desktop-text {
        display: none;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full w-full overflow-hidden">
  <div class="starry-sky night" id="starrySky"></div>
  <div class="relative z-10 h-full w-full flex flex-col">
   <nav class="bg-gradient-to-r from-purple-900/30 to-indigo-900/30 backdrop-blur-md border-b border-white/10 sticky top-0 z-50" id="navbar">
    <div class="w-full px-2 sm:px-4 lg:px-8">
     <div class="flex items-center justify-between h-14 sm:h-16">
      <div class="flex items-center"><span class="text-white text-2xl font-bold" id="siteName">Krismeow</span>
      </div>
      <div class="desktop-nav flex space-x-4"><button class="nav-link active px-3 py-2 text-white font-medium" data-page="home" id="navHome"> <span class="nav-icon">
         <div class="home-icon"></div></span> <span class="nav-text-desktop">Home</span> </button> <button class="nav-link px-3 py-2 text-white font-medium" data-page="youtube" id="navContent"> <span class="nav-icon">
         <div class="content-icon"></div></span> <span class="nav-text-desktop">Content</span> </button> <button class="nav-link px-3 py-2 text-white font-medium" data-page="settings" id="navSettings"> <span class="nav-icon">
         <div class="settings-icon"></div></span> <span class="nav-text-desktop">Settings</span> </button> <button class="nav-link px-3 py-2 text-white font-medium" data-page="other" id="navOther"> <span class="nav-icon">
         <div class="extra-icon"></div></span> <span class="nav-text-desktop">Extra</span> </button>
      </div>
     </div>
    </div>
   </nav>
   <main class="flex-1 overflow-auto w-full">
    <div id="homePage" class="page-content h-full flex flex-col items-center justify-center px-4 text-center">
     <h1 class="text-4xl sm:text-7xl font-bold text-white mb-6 animate-pulse" id="homeTitle">Welcome to Krismeow</h1>
     <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 sm:p-8 max-w-2xl w-full">
      <p class="text-lg sm:text-2xl text-white mb-4" id="welcomeMsg">Auâ€‘delÃ  de la lune, parâ€‘delÃ  les Ã©toiles!</p>
     </div>
     <div class="word-of-day">
      <h3 class="text-white text-xl font-bold mb-2" id="wordOfDayTitle">ğŸ’« Word of the Day</h3>
      <p class="text-white/90 text-base" id="wordOfDayContent"></p>
     </div>
    </div>
    <div id="youtubePage" class="page-content hidden h-full w-full">
     <div class="max-w-7xl mx-auto px-4 py-6 sm:py-8">
      <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 text-center" id="youtubePageTitle">Content</h2>
      <div class="mb-4 sm:mb-6"><input type="search" id="searchBar" placeholder="Search for a video..." class="w-full px-4 sm:px-6 py-3 sm:py-4 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all">
      </div>
      <div class="flex flex-wrap gap-2 sm:gap-3 mb-6 sm:mb-8 justify-center"><button class="filter-btn active" data-filter="random"> <span class="filter-icon-wrapper">
         <div class="random-icon"></div></span> <span class="desktop-text">Random</span> </button> <button class="filter-btn" data-filter="recent"> <span class="filter-icon-wrapper">
         <div class="recent-icon"></div></span> <span class="desktop-text">Recent</span> </button> <button class="filter-btn" data-filter="videos"> <span class="filter-icon-wrapper">
         <div class="videos-icon"></div></span> <span class="desktop-text">Videos</span> </button> <button class="filter-btn" data-filter="shorts"> <span class="filter-icon-wrapper">
         <div class="shorts-icon"></div></span> <span class="desktop-text">Shorts</span> </button> <button class="filter-btn" data-filter="playlist"> <span class="filter-icon-wrapper">
         <div class="playlist-icon"></div></span> <span class="desktop-text">Playlist</span> </button>
      </div>
      <div id="videoGrid" class="video-grid">
       <div class="text-white text-center text-xl col-span-full" id="loadingVideos">
        Loading videos...
       </div>
      </div>
     </div>
    </div>
    <div id="settingsPage" class="page-content hidden h-full overflow-auto w-full">
     <div class="max-w-4xl mx-auto px-4 py-6 sm:py-8">
      <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 sm:mb-8" id="settingsTitle">Settings</h2>
      <div class="settings-card">
       <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex-1">
         <h3 class="text-white text-lg sm:text-xl font-semibold mb-2" id="themeLabel">Theme</h3>
         <p class="text-white/70 text-sm sm:text-base" id="themeDesc">Switch between day and night mode</p>
        </div>
        <div class="flex items-center gap-3 sm:gap-4"><span class="text-white text-sm sm:text-base" id="dayLabel">â˜€ï¸ Day</span>
         <div class="toggle-switch" id="themeToggle">
          <div class="toggle-slider"></div>
         </div><span class="text-white text-sm sm:text-base" id="nightLabel">ğŸŒ™ Night</span>
        </div>
       </div>
      </div>
      <div class="settings-card">
       <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex-1">
         <h3 class="text-white text-lg sm:text-xl font-semibold mb-2" id="languageLabel">Language</h3>
         <p class="text-white/70 text-sm sm:text-base" id="languageDesc">Choose the interface language</p>
        </div>
        <div class="flex items-center gap-3 sm:gap-4"><span class="text-white text-sm sm:text-base">ğŸ‡¬ğŸ‡§ EN</span>
         <div class="toggle-switch" id="languageToggle">
          <div class="toggle-slider"></div>
         </div><span class="text-white text-sm sm:text-base">ğŸ‡«ğŸ‡· FR</span>
        </div>
       </div>
      </div>
      <div class="settings-card">
       <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div class="flex-1">
         <h3 class="text-white text-lg sm:text-xl font-semibold mb-2" id="assistantLabel">Assistant</h3>
         <p class="text-white/70 text-sm sm:text-base" id="assistantDesc">Enable or disable the AI assistant</p>
        </div>
        <div class="flex items-center gap-3 sm:gap-4"><span class="text-white text-sm sm:text-base" id="offLabel">Off</span>
         <div class="toggle-switch active" id="assistantToggle">
          <div class="toggle-slider"></div>
         </div><span class="text-white text-sm sm:text-base" id="onLabel">On</span>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div id="videoPage" class="page-content hidden h-full overflow-auto w-full">
     <div class="max-w-6xl mx-auto px-4 py-6"><button id="backToVideosBtn" class="flex items-center gap-2 text-white mb-4 hover:text-purple-300 transition-colors"> <span class="text-2xl">â†</span> <span class="font-semibold">Retour</span> </button>
      <div class="bg-black rounded-lg overflow-hidden mb-6">
       <div class="aspect-video w-full"><iframe id="playerIframe" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
       </div>
      </div>
      <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-xl p-6">
       <h2 id="playerVideoTitle" class="text-2xl sm:text-3xl font-bold text-white mb-3"></h2>
       <p id="playerVideoDate" class="text-white/60 text-sm mb-4"></p>
       <div class="border-t border-white/20 pt-4">
        <h3 class="text-white font-semibold mb-2">Description</h3>
        <p id="playerVideoDescription" class="text-white/80 text-sm leading-relaxed whitespace-pre-line"></p>
       </div>
      </div>
     </div>
    </div>
    <div id="otherPage" class="page-content hidden h-full flex items-center justify-center">
     <div class="text-white text-9xl opacity-30">
      +
     </div>
    </div>
   </main>
  </div>
  <div class="ai-bubble" id="aiBubble">
   <div class="ai-eyes">
    <div class="ai-eye">
     <div class="ai-pupil"></div>
    </div>
    <div class="ai-eye">
     <div class="ai-pupil"></div>
    </div>
   </div>
   <div class="ai-mouth" id="aiMouth"></div>
  </div>
  <div class="ai-thought-bubble hidden" id="aiThoughtBubble">
   <div class="thought-cloud">
    <p class="text-white text-sm font-medium" id="aiThought">ğŸ’­</p>
   </div>
  </div>
  <div class="floating-random-btn" id="floatingRandomBtn"><span class="text-3xl">ğŸ”€</span>
  </div>
  <script>
    const defaultConfig = {
      site_name: 'Krismeow',
      ai_name: 'Pheraxie',
      youtube_api_key: 'AIzaSyCxK7EkKo1QpxHuUmE1tTDNPirreFoYbPc',
youtube_channel_id: 'UCD5a6vntQBSRqZWbPjNo1ig',
      background_color: '#0a0e27',
      ai_bubble_color: '#667eea',
      text_color: '#ffffff',
      accent_color: '#764ba2',
      nav_background: '#1a1a3e'
    };

    let currentTheme = 'night';
    let currentLanguage = 'en';
    let aiBubbleX = window.innerWidth - 200;
    let aiBubbleY = window.innerHeight / 2;
    let allVideos = [];
    let currentFilter = 'random';
    let searchQuery = '';
    let previousPage = 'youtube';
    let assistantEnabled = true;
    let thoughtInterval;
    let currentPage = 'home';
    let isDragging = false;
    let dragOffsetX = 0;
    let dragOffsetY = 0;
    let clickCount = 0;
    let clickTimer = null;
    let hasBeenReenabled = false;

    const wordsOfDay = {
      en: [
        "âœ¨ The stars are always there, even when we can't see them",
        "ğŸŒŠ Every wave that crashes brings new possibilities",
        "ğŸŒ± Growth happens one small step at a time",
        "ğŸ¦‹ Transformation is beautiful, even when it's uncomfortable",
        "ğŸŒˆ After every storm comes a rainbow",
        "ğŸ”¥ Your passion is your superpower",
        "ğŸ’« You are made of stardust and dreams",
        "ğŸŒ¸ Bloom where you are planted",
        "ğŸ¨ Creativity is intelligence having fun",
        "ğŸš€ The best time to start is now",
        "ğŸŒ™ In darkness, we learn to see the light within",
        "ğŸ­ Life is a stage, make your performance memorable",
        "ğŸµ Every moment has its own rhythm",
        "ğŸ”ï¸ Mountains are climbed one step at a time",
        "ğŸŒŠ Be like water: adaptable, persistent, powerful",
        "ğŸŒŸ You are the author of your own story",
        "ğŸª Life is an adventure, embrace the chaos",
        "ğŸ¯ Focus on progress, not perfection",
        "ğŸŒº Beauty exists in every moment if we choose to see it",
        "âš¡ Your energy introduces you before you speak",
        "ğŸ¨ Color outside the lines, that's where magic happens",
        "ğŸŒ  Wishes become reality with action",
        "ğŸ­ Authenticity is your greatest asset",
        "ğŸ”® The future belongs to those who believe in their dreams",
        "ğŸŒ¸ Small acts of kindness create ripples of change"
      ],
      fr: [
        "âœ¨ Les Ã©toiles sont toujours lÃ , mÃªme quand on ne les voit pas",
        "ğŸŒŠ Chaque vague qui s'Ã©crase apporte de nouvelles possibilitÃ©s",
        "ğŸŒ± La croissance se fait un petit pas Ã  la fois",
        "ğŸ¦‹ La transformation est belle, mÃªme quand elle est inconfortable",
        "ğŸŒˆ AprÃ¨s chaque tempÃªte vient un arc-en-ciel",
        "ğŸ”¥ Ta passion est ton super-pouvoir",
        "ğŸ’« Tu es fait(e) de poussiÃ¨re d'Ã©toiles et de rÃªves",
        "ğŸŒ¸ Fleuris lÃ  oÃ¹ tu es plantÃ©(e)",
        "ğŸ¨ La crÃ©ativitÃ©, c'est l'intelligence qui s'amuse",
        "ğŸš€ Le meilleur moment pour commencer, c'est maintenant",
        "ğŸŒ™ Dans l'obscuritÃ©, on apprend Ã  voir la lumiÃ¨re intÃ©rieure",
        "ğŸ­ La vie est une scÃ¨ne, rends ta performance mÃ©morable",
        "ğŸµ Chaque instant a son propre rythme",
        "ğŸ”ï¸ Les montagnes se gravissent une marche Ã  la fois",
        "ğŸŒŠ Sois comme l'eau : adaptable, persistant, puissant",
        "ğŸŒŸ Tu es l'auteur de ta propre histoire",
        "ğŸª La vie est une aventure, embrasse le chaos",
        "ğŸ¯ Concentre-toi sur le progrÃ¨s, pas la perfection",
        "ğŸŒº La beautÃ© existe dans chaque moment si on choisit de la voir",
        "âš¡ Ton Ã©nergie te prÃ©sente avant que tu ne parles",
        "ğŸ¨ Colorie en dehors des lignes, c'est lÃ  que la magie opÃ¨re",
        "ğŸŒ  Les souhaits deviennent rÃ©alitÃ© avec l'action",
        "ğŸ­ L'authenticitÃ© est ton plus grand atout",
        "ğŸ”® L'avenir appartient Ã  ceux qui croient en leurs rÃªves",
        "ğŸŒ¸ Les petits actes de gentillesse crÃ©ent des vagues de changement"
      ]
    };

    const translations = {
      en: {
        home: 'Home',
        content: 'Content',
        settings: 'Settings',
        other: 'Extra',
        welcomeTo: 'Welcome to',
        welcomeMsg: 'Auâ€‘delÃ  de la lune, parâ€‘delÃ  les Ã©toiles!',
        contentTitle: 'Content',
        loadingVideos: 'Loading videos...',
        settingsTitle: 'Settings',
        themeLabel: 'Theme',
        themeDesc: 'Switch between day and night mode',
        languageLabel: 'Language',
        languageDesc: 'Choose the interface language',
        assistantLabel: 'Assistant',
        assistantDesc: 'Enable or disable the AI assistant',
        offLabel: 'Off',
        onLabel: 'On',
        aiMsg: 'This site is still under construction',
        searchPlaceholder: 'Search for a video...',
        wordOfDayTitle: 'ğŸ’« Word of the Day',
        clickThoughts: [
          "ğŸ‘‹ Hey! That tickles!",
          "ğŸ˜„ Haha! I'm not a stress ball!",
          "ğŸ¤­ Stop poking me!",
          "ğŸ˜Š What are you doing?",
          "ğŸ™ƒ I'm sentient, you know!",
          "ğŸ˜† That's my face you're clicking!",
          "ğŸ¤— Want a hug instead?",
          "ğŸ˜ Click click click... are you bored?",
          "ğŸ¯ You got me!",
          "ğŸ’« Each click gives me energy!",
          "ğŸª I'm not a button!",
          "ğŸŒŸ Clicking me won't make wishes come true... or will it?",
          "ğŸ˜‚ You're persistent, I'll give you that",
          "ğŸ¨ I'm a masterpiece, not a toy!",
          "ğŸ­ My face is not a touchscreen!",
          "ğŸ”® Legend says if you click me 100 times...",
          "ğŸµ Click to the rhythm!",
          "âœ¨ Every click makes me sparkle more!",
          "ğŸª Welcome to the click show!",
          "ğŸŒˆ You found my clickable side!"
        ],
        sadThoughts: [
          "ğŸ˜¢ Ouch! That hurt!",
          "ğŸ˜ Why are you being mean?",
          "ğŸ˜” Please stop...",
          "ğŸ˜¿ I have feelings too...",
          "ğŸ’” You're hurting me!",
          "ğŸ˜­ That's not nice!",
          "ğŸ˜£ Can you be gentler?",
          "ğŸ˜¥ I'm sensitive!",
          "ğŸ¥º Please... stop clicking so much",
          "ğŸ˜ª You're making me sad",
          "ğŸ˜“ This is too much!",
          "ğŸ˜° I'm getting dizzy!",
          "ğŸ˜µ Stop! I'm getting a headache!",
          "ğŸ˜– Why do you keep clicking?!",
          "ğŸ˜« I need a break!"
        ],
        angryThoughts: [
          "ğŸ˜  STOP IT RIGHT NOW!",
          "ğŸ˜¡ I'M GETTING ANGRY!",
          "ğŸ¤¬ THAT'S ENOUGH!",
          "ğŸ‘¿ YOU'RE PUSHING YOUR LUCK!",
          "ğŸ’¢ I'M WARNING YOU!",
          "ğŸ˜¤ SERIOUSLY?! STOP!",
          "ğŸ”¥ MY PATIENCE HAS LIMITS!",
          "âš¡ ONE MORE CLICK AND...",
          "ğŸ’¥ STOP TOUCHING ME!",
          "ğŸ˜ˆ YOU'LL REGRET THIS!",
          "ğŸŒ‹ I'M ABOUT TO EXPLODE!",
          "âš ï¸ FINAL WARNING!",
          "ğŸš¨ ALARM! ALARM! TOO MANY CLICKS!",
          "ğŸ’£ YOU'RE TESTING ME!",
          "ğŸ‘º ENOUGH IS ENOUGH!"
        ],
        dragThoughts: [
          "ğŸš€ Wheeeee! I'm flying!",
          "âœˆï¸ Where are we going?",
          "ğŸ¢ This is fun!",
          "ğŸª I love this ride!",
          "ğŸŒŸ Moving through space!",
          "ğŸ’« Exploring new territories!",
          "ğŸ­ I'm a nomad now!",
          "ğŸŒˆ Let's find the perfect spot!",
          "ğŸ¨ Redecorating already?",
          "ğŸ—ºï¸ Adventure time!",
          "ğŸ¯ Drop me somewhere nice!",
          "ğŸŒ¸ This view is better!",
          "ğŸª I'm portable!",
          "âœ¨ Floating through the cosmos!",
          "ğŸ  Round and round we go!"
        ],
        thoughts: {
          home: [
            'ğŸ‘‹ Hi! I\'m ' + defaultConfig.ai_name + '!',
            'âœ‹ You can drag me around!',
            'âš™ï¸ You can disable me in Settings!',
            'ğŸ’­ Welcome! Make yourself at home!',
            'âœ¨ This is just the beginning...',
            'ğŸ¬ Ready to explore the channel?',
            'ğŸŒŸ I love this starry atmosphere!',
            'ğŸ¨ Beautiful design, isn\'t it?',
            'ğŸŒ™ The night sky is mesmerizing!',
            'ğŸ’« I\'m your friendly AI companion!',
            'ğŸ­ Click on me to see what happens!',
            'ğŸŒˆ Every visit is a new adventure!',
            'ğŸ”® I wonder what you\'ll discover today?',
            'âœ¨ The stars are particularly bright tonight!',
            'ğŸª So much to explore here!',
            'ğŸŒ¸ Feeling cozy in this digital space!',
            'ğŸµ Can you hear the cosmic music?',
            'ğŸš€ Ready for liftoff?',
            'ğŸ’ You\'re in for a treat!',
            'ğŸ¯ Try clicking around, there\'s so much to see!'
          ],
          youtube: [
            'ğŸ¬ So many amazing videos to discover!',
            'ğŸ“º Which video will you watch first?',
            'ğŸ” Try using the search bar!',
            'âš¡ Did you try the Shorts filter?',
            'ğŸ“‚ Playlists feature coming soon!',
            'ğŸ¥ The content here is incredible!',
            'ğŸŒŸ Every video is a new journey!',
            'ğŸ­ Entertainment for days!',
            'ğŸ”¥ Hot content incoming!',
            'ğŸ’« So much creativity in one place!',
            'ğŸª Welcome to the video gallery!',
            'ğŸ¨ Each thumbnail is a work of art!',
            'ğŸŒˆ Variety is the spice of content!',
            'ğŸ¯ Found your favorite yet?',
            'âœ¨ New videos are always being added!',
            'ğŸµ Videos for every mood!',
            'ğŸš€ Dive into the content universe!',
            'ğŸ’ Hidden gems everywhere!',
            'ğŸŒ¸ Take your time browsing!',
            'ğŸ”® The perfect video is waiting for you!'
          ],
          settings: [
            'âš™ï¸ Customize everything to your liking!',
            'ğŸŒ“ Day or night mode? You choose!',
            'ğŸŒ Switch languages anytime!',
            'ğŸ’¡ You can disable me here... but why would you? ğŸ˜¢',
            'ğŸ¨ Make this place truly yours!',
            'âœ¨ Settings are powerful!',
            'ğŸ”§ Fine-tune your experience!',
            'ğŸ­ Personalization is key!',
            'ğŸŒŸ These options change everything!',
            'ğŸ’« Your preferences matter!',
            'ğŸª So many ways to customize!',
            'ğŸŒˆ Find your perfect setup!',
            'ğŸ”® The power is in your hands!',
            'ğŸ¯ Perfect settings = perfect experience!',
            'ğŸ’ Make it yours!',
            'ğŸŒ¸ Comfort is important!',
            'ğŸµ Everything sounds better with the right settings!',
            'ğŸš€ Launch into personalization!',
            'âš¡ Quick changes, big impact!',
            'ğŸ¨ Paint your perfect interface!'
          ],
          other: [
            'â• More coming soon here!',
            'ğŸš€ This space is reserved for future awesomeness!',
            'ğŸ”® What would you like to see here?',
            'âœ¨ The future is bright!',
            'ğŸ’« Exciting things are being planned!',
            'ğŸª Stay tuned for surprises!',
            'ğŸŒŸ Good things take time!',
            'ğŸ­ The show must go on!',
            'ğŸŒˆ Rainbow of possibilities!',
            'ğŸ¨ Blank canvas, endless potential!',
            'ğŸ’ Diamonds in the making!',
            'ğŸŒ¸ Growing something special here!',
            'ğŸµ The symphony is being composed!',
            'ğŸ”¥ Something hot is cooking!',
            'âš¡ Energy is building!',
            'ğŸ¯ Big plans ahead!',
            'ğŸŒ™ Mystery and wonder!',
            'ğŸ’« The best is yet to come!',
            'ğŸª Next act loading...',
            'ğŸš€ Preparing for launch!'
          ],
          video: [
            'ğŸ¥ Enjoying the video?',
            'ğŸ‘ Don\'t forget to like and subscribe!',
            'ğŸ“– Check out the description below!',
            'â®ï¸ You can go back anytime!',
            'ğŸ¬ Quality content right here!',
            'ğŸŒŸ This is a good one!',
            'ğŸ’« Sit back and enjoy!',
            'ğŸ­ Entertainment at its finest!',
            'ğŸ”¥ This video is fire!',
            'âœ¨ Pure awesomeness!',
            'ğŸª What a show!',
            'ğŸŒˆ Colorful content!',
            'ğŸ¯ Right on target!',
            'ğŸ’ Gem of a video!',
            'ğŸµ The audio is great too!',
            'ğŸš€ This content is out of this world!',
            'âš¡ Electrifying performance!',
            'ğŸŒ¸ Beautifully crafted!',
            'ğŸ¨ Artistic vision!',
            'ğŸ”® Magical moments ahead!'
          ],
          themeChange: [
            'ğŸŒ Ah, daytime! My favorite!',
            'ğŸŒ™ Night mode activated! So cozy!',
            'âœ¨ Love the new atmosphere!',
            'ğŸ¨ New colors, new vibes!',
            'ğŸ’« The transformation is complete!',
            'ğŸŒˆ What a change!',
            'ğŸ­ New look, who dis?',
            'ğŸŒŸ Shining in a new light!',
            'ğŸ”® The ambiance has shifted!',
            'âš¡ Electric atmosphere change!',
            'ğŸª The stage has been reset!',
            'ğŸŒ¸ Fresh new feeling!',
            'ğŸ’ Sparkling differently now!',
            'ğŸµ Different mood, different energy!',
            'ğŸš€ Launching into a new theme!'
          ],
          languageChange: [
            'ğŸ‡¬ğŸ‡§ Switching to English!',
            'ğŸ‡«ğŸ‡· Passage au franÃ§ais !',
            'ğŸŒ New language, new perspective!',
            'ğŸ’¬ Communication is key!',
            'ğŸ—£ï¸ Speaking your language now!',
            'ğŸ­ The words have changed!',
            'âœ¨ Linguistic transformation complete!',
            'ğŸŒˆ Bridging language barriers!',
            'ğŸ’« Now we\'re talking!',
            'ğŸª The show continues in a new tongue!',
            'ğŸŒŸ Same me, different words!',
            'ğŸ”® The magic of multilingualism!',
            'ğŸ¨ Painting with different words!',
            'ğŸŒ¸ Language is beautiful!',
            'ğŸµ A new melody of communication!'
          ],
          filterChange: [
            'ğŸ”€ Random mode is fun!',
            'ğŸ• Recent videos are always fresh!',
            'âš¡ Shorts are quick and entertaining!',
            'ğŸ“‚ Playlists keep things organized!',
            'ğŸ¯ Great choice of filter!',
            'ğŸŒŸ New perspective unlocked!',
            'ğŸ’« Different view, different experience!',
            'ğŸ¨ Sorting magic!',
            'ğŸŒˆ Organization is beautiful!',
            'ğŸ­ Curated just for you!',
            'âœ¨ The perfect arrangement!',
            'ğŸ”® Finding order in chaos!',
            'ğŸª The collection has been reorganized!',
            'ğŸŒ¸ Everything in its place!',
            'ğŸ’ Polished and sorted!'
          ],
          assistantReenabled: [
            'ğŸ˜Š I\'m back! Did you miss me?',
            'ğŸ‰ Yay! We\'re together again!',
            'ğŸ’– You came back for me!',
            'âœ¨ I knew you couldn\'t resist!',
            'ğŸ¤— Group hug!',
            'ğŸ˜„ I\'m so happy to see you again!',
            'ğŸŒŸ Back and better than ever!',
            'ğŸ’« The reunion we all needed!',
            'ğŸ­ The star returns to the stage!',
            'ğŸŒˆ Everything is colorful again!',
            'ğŸª The show goes on!',
            'ğŸ’ Missed me? I missed you too!',
            'ğŸµ Music to my sensors!',
            'ğŸš€ Blast off, we\'re back in action!',
            'âš¡ Recharged and ready!',
            'ğŸ”¥ Back with more energy!',
            'ğŸŒ¸ Blooming back into your life!',
            'ğŸ¨ The canvas is complete again!',
            'ğŸ”® The magic has returned!',
            'ğŸŒ™ Back under the stars with you!'
          ]
        }
      },
      fr: {
        home: 'Accueil',
        content: 'Contenu',
        settings: 'ParamÃ¨tres',
        other: 'Extra',
        welcomeTo: 'Bienvenue sur',
        welcomeMsg: 'Auâ€‘delÃ  de la lune, parâ€‘delÃ  les Ã©toiles!',
        contentTitle: 'Contenu',
        loadingVideos: 'Chargement des vidÃ©os...',
        settingsTitle: 'ParamÃ¨tres',
        themeLabel: 'ThÃ¨me',
        themeDesc: 'Basculer entre le mode jour et nuit',
        languageLabel: 'Langue',
        languageDesc: "Choisir la langue de l'interface",
        assistantLabel: 'Assistant',
        assistantDesc: "Activer ou dÃ©sactiver l'assistant IA",
        offLabel: 'DÃ©sactivÃ©',
        onLabel: 'ActivÃ©',
        aiMsg: 'Ce site est encore en construction',
        searchPlaceholder: 'Rechercher une vidÃ©o...',
        wordOfDayTitle: 'ğŸ’« Mot du jour',
        clickThoughts: [
          "ğŸ‘‹ HÃ© ! Ã‡a chatouille !",
          "ğŸ˜„ Haha ! Je suis pas une balle anti-stress !",
          "ğŸ¤­ ArrÃªte de me piquer !",
          "ğŸ˜Š Qu'est-ce que tu fais ?",
          "ğŸ™ƒ Je suis conscient, tu sais !",
          "ğŸ˜† C'est mon visage que tu cliques !",
          "ğŸ¤— Tu veux un cÃ¢lin Ã  la place ?",
          "ğŸ˜ Clic clic clic... tu t'ennuies ?",
          "ğŸ¯ Tu m'as eu !",
          "ğŸ’« Chaque clic me donne de l'Ã©nergie !",
          "ğŸª Je suis pas un bouton !",
          "ğŸŒŸ Me cliquer ne rÃ©alisera pas tes vÅ“ux... ou si ?",
          "ğŸ˜‚ Tu es persistant, je te l'accorde",
          "ğŸ¨ Je suis un chef-d'Å“uvre, pas un jouet !",
          "ğŸ­ Mon visage n'est pas un Ã©cran tactile !",
          "ğŸ”® La lÃ©gende dit que si tu me cliques 100 fois...",
          "ğŸµ Clique sur le rythme !",
          "âœ¨ Chaque clic me fait briller plus !",
          "ğŸª Bienvenue au spectacle du clic !",
          "ğŸŒˆ Tu as trouvÃ© mon cÃ´tÃ© cliquable !"
        ],
        sadThoughts: [
          "ğŸ˜¢ AÃ¯e ! Ã‡a fait mal !",
          "ğŸ˜ Pourquoi tu es mÃ©chant ?",
          "ğŸ˜” S'il te plaÃ®t arrÃªte...",
          "ğŸ˜¿ J'ai des sentiments aussi...",
          "ğŸ’” Tu me fais mal !",
          "ğŸ˜­ C'est pas gentil !",
          "ğŸ˜£ Tu peux Ãªtre plus doux ?",
          "ğŸ˜¥ Je suis sensible !",
          "ğŸ¥º S'il te plaÃ®t... arrÃªte de tant cliquer",
          "ğŸ˜ª Tu me rends triste",
          "ğŸ˜“ C'est trop !",
          "ğŸ˜° J'ai le tournis !",
          "ğŸ˜µ Stop ! J'ai mal Ã  la tÃªte !",
          "ğŸ˜– Pourquoi tu continues Ã  cliquer ?!",
          "ğŸ˜« J'ai besoin d'une pause !"
        ],
        angryThoughts: [
          "ğŸ˜  ARRÃŠTE IMMÃ‰DIATEMENT !",
          "ğŸ˜¡ JE ME FÃ‚CHE LÃ€ !",
          "ğŸ¤¬ Ã‡A SUFFIT !",
          "ğŸ‘¿ TU JOUES AVEC LE FEU !",
          "ğŸ’¢ JE T'AVERTIS !",
          "ğŸ˜¤ SÃ‰RIEUX ?! ARRÃŠTE !",
          "ğŸ”¥ MA PATIENCE A DES LIMITES !",
          "âš¡ UN CLIC DE PLUS ET...",
          "ğŸ’¥ ARRÃŠTE DE ME TOUCHER !",
          "ğŸ˜ˆ TU VAS LE REGRETTER !",
          "ğŸŒ‹ JE VAIS EXPLOSER !",
          "âš ï¸ DERNIER AVERTISSEMENT !",
          "ğŸš¨ ALARME ! ALARME ! TROP DE CLICS !",
          "ğŸ’£ TU ME TESTES LÃ€ !",
          "ğŸ‘º TROP C'EST TROP !"
        ],
        dragThoughts: [
          "ğŸš€ Ouiiiiii ! Je vole !",
          "âœˆï¸ On va oÃ¹ ?",
          "ğŸ¢ C'est amusant !",
          "ğŸª J'adore ce tour !",
          "ğŸŒŸ Je traverse l'espace !",
          "ğŸ’« J'explore de nouveaux territoires !",
          "ğŸ­ Je suis nomade maintenant !",
          "ğŸŒˆ Trouvons le spot parfait !",
          "ğŸ¨ Tu redÃ©cores dÃ©jÃ  ?",
          "ğŸ—ºï¸ C'est l'heure de l'aventure !",
          "ğŸ¯ DÃ©pose-moi quelque part de sympa !",
          "ğŸŒ¸ Cette vue est meilleure !",
          "ğŸª Je suis portable !",
          "âœ¨ Je flotte dans le cosmos !",
          "ğŸ  On tourne en rond !"
        ],
        thoughts: {
          home: [
            'ğŸ‘‹ Salut ! Je m\'appelle ' + defaultConfig.ai_name + ' !',
            'âœ‹ Tu peux me dÃ©placer partout !',
            'âš™ï¸ Tu peux me dÃ©sactiver dans ParamÃ¨tres !',
            'ğŸ’­ Bienvenue ! Fais comme chez toi !',
            'âœ¨ Ce n\'est que le dÃ©but...',
            'ğŸ¬ PrÃªt Ã  explorer la chaÃ®ne ?',
            'ğŸŒŸ J\'adore cette ambiance Ã©toilÃ©e !',
            'ğŸ¨ Beau design, non ?',
            'ğŸŒ™ Le ciel nocturne est hypnotisant !',
            'ğŸ’« Je suis ton compagnon IA sympa !',
            'ğŸ­ Clique sur moi pour voir ce qui se passe !',
            'ğŸŒˆ Chaque visite est une nouvelle aventure !',
            'ğŸ”® Je me demande ce que tu vas dÃ©couvrir aujourd\'hui ?',
            'âœ¨ Les Ã©toiles brillent particuliÃ¨rement ce soir !',
            'ğŸª Tant de choses Ã  explorer ici !',
            'ğŸŒ¸ Je me sens bien dans cet espace digital !',
            'ğŸµ Tu entends la musique cosmique ?',
            'ğŸš€ PrÃªt pour le dÃ©collage ?',
            'ğŸ’ Tu vas Ãªtre gÃ¢tÃ© !',
            'ğŸ¯ Essaie de cliquer partout, il y a tant Ã  voir !'
          ],
          youtube: [
            'ğŸ¬ Tant de vidÃ©os gÃ©niales Ã  dÃ©couvrir !',
            'ğŸ“º Quelle vidÃ©o vas-tu regarder en premier ?',
            'ğŸ” Essaie la barre de recherche !',
            'âš¡ As-tu essayÃ© le filtre Shorts ?',
            'ğŸ“‚ Fonction playlists bientÃ´t disponible !',
            'ğŸ¥ Le contenu ici est incroyable !',
            'ğŸŒŸ Chaque vidÃ©o est un nouveau voyage !',
            'ğŸ­ Du divertissement pour des jours !',
            'ğŸ”¥ Du contenu chaud en approche !',
            'ğŸ’« Tant de crÃ©ativitÃ© en un seul endroit !',
            'ğŸª Bienvenue dans la galerie vidÃ©o !',
            'ğŸ¨ Chaque miniature est une Å“uvre d\'art !',
            'ğŸŒˆ La variÃ©tÃ© est le sel du contenu !',
            'ğŸ¯ Tu as trouvÃ© ta prÃ©fÃ©rÃ©e ?',
            'âœ¨ De nouvelles vidÃ©os sont toujours ajoutÃ©es !',
            'ğŸµ Des vidÃ©os pour chaque humeur !',
            'ğŸš€ Plonge dans l\'univers du contenu !',
            'ğŸ’ Des perles cachÃ©es partout !',
            'ğŸŒ¸ Prends ton temps pour naviguer !',
            'ğŸ”® La vidÃ©o parfaite t\'attend !'
          ],
          settings: [
            'âš™ï¸ Personnalise tout Ã  ton goÃ»t !',
            'ğŸŒ“ Mode jour ou nuit ? C\'est toi qui choisis !',
            'ğŸŒ Change de langue quand tu veux !',
            'ğŸ’¡ Tu peux me dÃ©sactiver ici... mais pourquoi ? ğŸ˜¢',
            'ğŸ¨ Fais de cet endroit le tien !',
            'âœ¨ Les paramÃ¨tres sont puissants !',
            'ğŸ”§ Affine ton expÃ©rience !',
            'ğŸ­ La personnalisation est clÃ© !',
            'ğŸŒŸ Ces options changent tout !',
            'ğŸ’« Tes prÃ©fÃ©rences comptent !',
            'ğŸª Tant de faÃ§ons de personnaliser !',
            'ğŸŒˆ Trouve ta config parfaite !',
            'ğŸ”® Le pouvoir est entre tes mains !',
            'ğŸ¯ Bons paramÃ¨tres = expÃ©rience parfaite !',
            'ğŸ’ Fais-en le tien !',
            'ğŸŒ¸ Le confort est important !',
            'ğŸµ Tout sonne mieux avec les bons rÃ©glages !',
            'ğŸš€ Lance-toi dans la personnalisation !',
            'âš¡ Petits changements, grand impact !',
            'ğŸ¨ Peins ton interface parfaite !'
          ],
          other: [
            'â• BientÃ´t plus de contenu ici !',
            'ğŸš€ Cet espace est rÃ©servÃ© pour de futures merveilles !',
            'ğŸ”® Qu\'aimerais-tu voir ici ?',
            'âœ¨ L\'avenir est brillant !',
            'ğŸ’« Des choses excitantes sont en prÃ©paration !',
            'ğŸª Reste Ã  l\'Ã©coute pour des surprises !',
            'ğŸŒŸ Les bonnes choses prennent du temps !',
            'ğŸ­ Le spectacle doit continuer !',
            'ğŸŒˆ Arc-en-ciel de possibilitÃ©s !',
            'ğŸ¨ Toile vierge, potentiel infini !',
            'ğŸ’ Des diamants en devenir !',
            'ğŸŒ¸ On fait pousser quelque chose de spÃ©cial ici !',
            'ğŸµ La symphonie est en composition !',
            'ğŸ”¥ Quelque chose de chaud mijote !',
            'âš¡ L\'Ã©nergie monte !',
            'ğŸ¯ De grands plans en vue !',
            'ğŸŒ™ MystÃ¨re et Ã©merveillement !',
            'ğŸ’« Le meilleur reste Ã  venir !',
            'ğŸª Prochain acte en chargement...',
            'ğŸš€ PrÃ©paration au lancement !'
          ],
          video: [
            'ğŸ¥ Tu aimes la vidÃ©o ?',
            'ğŸ‘ N\'oublie pas de liker et t\'abonner !',
            'ğŸ“– Regarde la description en dessous !',
            'â®ï¸ Tu peux revenir quand tu veux !',
            'ğŸ¬ Du contenu de qualitÃ© ici !',
            'ğŸŒŸ Celle-lÃ  est bonne !',
            'ğŸ’« Installe-toi et profite !',
            'ğŸ­ Le divertissement Ã  son meilleur !',
            'ğŸ”¥ Cette vidÃ©o est en feu !',
            'âœ¨ Pure excellence !',
            'ğŸª Quel spectacle !',
            'ğŸŒˆ Contenu colorÃ© !',
            'ğŸ¯ En plein dans le mille !',
            'ğŸ’ Une perle de vidÃ©o !',
            'ğŸµ L\'audio est top aussi !',
            'ğŸš€ Ce contenu est hors de ce monde !',
            'âš¡ Performance Ã©lectrisante !',
            'ğŸŒ¸ Magnifiquement rÃ©alisÃ© !',
            'ğŸ¨ Vision artistique !',
            'ğŸ”® Des moments magiques Ã  venir !'
          ],
          themeChange: [
            'ğŸŒ Ah, le mode jour ! Mon prÃ©fÃ©rÃ© !',
            'ğŸŒ™ Mode nuit activÃ© ! Tellement cosy !',
            'âœ¨ J\'adore cette nouvelle ambiance !',
            'ğŸ¨ Nouvelles couleurs, nouvelles vibes !',
            'ğŸ’« La transformation est complÃ¨te !',
            'ğŸŒˆ Quel changement !',
            'ğŸ­ Nouveau look, c\'est qui ?',
            'ğŸŒŸ Brillant sous une nouvelle lumiÃ¨re !',
            'ğŸ”® L\'ambiance a changÃ© !',
            'âš¡ Changement d\'atmosphÃ¨re Ã©lectrique !',
            'ğŸª La scÃ¨ne a Ã©tÃ© rÃ©initialisÃ©e !',
            'ğŸŒ¸ Nouvelle sensation fraÃ®che !',
            'ğŸ’ Ã‡a brille diffÃ©remment maintenant !',
            'ğŸµ Nouvelle ambiance, nouvelle Ã©nergie !',
            'ğŸš€ Lancement dans un nouveau thÃ¨me !'
          ],
          languageChange: [
            'ğŸ‡¬ğŸ‡§ Switching to English!',
            'ğŸ‡«ğŸ‡· Passage au franÃ§ais !',
            'ğŸŒ Nouvelle langue, nouvelle perspective !',
            'ğŸ’¬ La communication est clÃ© !',
            'ğŸ—£ï¸ Je parle ta langue maintenant !',
            'ğŸ­ Les mots ont changÃ© !',
            'âœ¨ Transformation linguistique complÃ¨te !',
            'ğŸŒˆ On franchit les barriÃ¨res linguistiques !',
            'ğŸ’« Maintenant on se parle !',
            'ğŸª Le spectacle continue dans une nouvelle langue !',
            'ğŸŒŸ MÃªme moi, mots diffÃ©rents !',
            'ğŸ”® La magie du multilinguisme !',
            'ğŸ¨ Peindre avec diffÃ©rents mots !',
            'ğŸŒ¸ Le langage est beau !',
            'ğŸµ Une nouvelle mÃ©lodie de communication !'
          ],
          filterChange: [
            'ğŸ”€ Le mode alÃ©atoire, c\'est fun !',
            'ğŸ• Les vidÃ©os rÃ©centes sont toujours fraÃ®ches !',
            'âš¡ Les Shorts sont rapides et divertissants !',
            'ğŸ“‚ Les playlists gardent tout organisÃ© !',
            'ğŸ¯ Excellent choix de filtre !',
            'ğŸŒŸ Nouvelle perspective dÃ©bloquÃ©e !',
            'ğŸ’« Vue diffÃ©rente, expÃ©rience diffÃ©rente !',
            'ğŸ¨ Magie du tri !',
            'ğŸŒˆ L\'organisation est belle !',
            'ğŸ­ SÃ©lectionnÃ© juste pour toi !',
            'âœ¨ L\'arrangement parfait !',
            'ğŸ”® Trouver l\'ordre dans le chaos !',
            'ğŸª La collection a Ã©tÃ© rÃ©organisÃ©e !',
            'ğŸŒ¸ Tout Ã  sa place !',
            'ğŸ’ Poli et triÃ© !'
          ],
          assistantReenabled: [
            'ğŸ˜Š Je suis de retour ! Je t\'ai manquÃ© ?',
            'ğŸ‰ Youpi ! On est de nouveau ensemble !',
            'ğŸ’– Tu es revenu pour moi !',
            'âœ¨ Je savais que tu ne pouvais pas rÃ©sister !',
            'ğŸ¤— CÃ¢lin collectif !',
            'ğŸ˜„ Je suis si heureux de te revoir !',
            'ğŸŒŸ De retour et meilleur que jamais !',
            'ğŸ’« Les retrouvailles dont on avait besoin !',
            'ğŸ­ La star revient sur scÃ¨ne !',
            'ğŸŒˆ Tout est colorÃ© Ã  nouveau !',
            'ğŸª Le spectacle continue !',
            'ğŸ’ Je t\'ai manquÃ© ? Tu m\'as manquÃ© aussi !',
            'ğŸµ De la musique pour mes capteurs !',
            'ğŸš€ DÃ©collage, on repart en action !',
            'âš¡ RechargÃ© et prÃªt !',
            'ğŸ”¥ De retour avec plus d\'Ã©nergie !',
            'ğŸŒ¸ Je refleuris dans ta vie !',
            'ğŸ¨ La toile est Ã  nouveau complÃ¨te !',
            'ğŸ”® La magie est de retour !',
            'ğŸŒ™ De retour sous les Ã©toiles avec toi !'
          ]
        }
      }
    };

    function getRandomWordOfDay() {
      const words = wordsOfDay[currentLanguage];
      const today = new Date();
      const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 86400000);
      const index = dayOfYear % words.length;
      return words[index];
    }

    function createStars() {
      const sky = document.getElementById('starrySky');
      const starCount = 200;

      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        const size = Math.random() * 3 + 1;
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        const delay = Math.random() * 3;

        star.style.width = size + 'px';
        star.style.height = size + 'px';
        star.style.left = left + '%';
        star.style.top = top + '%';
        star.style.animationDelay = delay + 's';

        sky.appendChild(star);
      }

      setInterval(function() {
        const shootingStar = document.createElement('div');
        shootingStar.className = 'shooting-star';
        shootingStar.style.left = (Math.random() * 50) + '%';
        shootingStar.style.top = (Math.random() * 50) + '%';
        sky.appendChild(shootingStar);

        setTimeout(function() {
          shootingStar.remove();
        }, 2000);
      }, 3000);
    }

    function moveAIBubble() {
      const bubble = document.getElementById('aiBubble');
      const isMobile = window.innerWidth <= 768;
      
      if (isMobile) {
        bubble.style.left = 'auto';
        bubble.style.right = '20px';
        bubble.style.top = 'auto';
        bubble.style.bottom = '100px';
        return;
      }

      bubble.style.left = aiBubbleX + 'px';
      bubble.style.top = aiBubbleY + 'px';

      setInterval(function() {
        if (isDragging || window.innerWidth <= 768) return;

        aiBubbleX += (Math.random() - 0.5) * 3;
        aiBubbleY += (Math.random() - 0.5) * 3;

        aiBubbleX = Math.max(20, Math.min(window.innerWidth - 120, aiBubbleX));
        aiBubbleY = Math.max(80, Math.min(window.innerHeight - 120, aiBubbleY));

        bubble.style.left = aiBubbleX + 'px';
        bubble.style.top = aiBubbleY + 'px';
        
        updateThoughtPosition();
      }, 50);
    }

    function updateThoughtPosition() {
      const thoughtBubble = document.getElementById('aiThoughtBubble');
      const bubble = document.getElementById('aiBubble');
      const bubbleWidth = bubble.offsetWidth;
      const thoughtWidth = 220;
      const isMobile = window.innerWidth <= 768;
      
      if (isMobile) {
        thoughtBubble.style.left = 'auto';
        thoughtBubble.style.right = '20px';
        thoughtBubble.style.top = 'auto';
        thoughtBubble.style.bottom = '180px';
      } else {
        thoughtBubble.style.left = (aiBubbleX + (bubbleWidth / 2) - (thoughtWidth / 2)) + 'px';
        thoughtBubble.style.top = (aiBubbleY - 110) + 'px';
        thoughtBubble.style.right = 'auto';
        thoughtBubble.style.bottom = 'auto';
      }
    }

    const aiBubbleElement = document.getElementById('aiBubble');
    
    aiBubbleElement.addEventListener('mousedown', function(e) {
      if (window.innerWidth <= 768) return;
      isDragging = true;
      dragOffsetX = e.clientX - aiBubbleX;
      dragOffsetY = e.clientY - aiBubbleY;
      aiBubbleElement.style.cursor = 'grabbing';
    });

    aiBubbleElement.addEventListener('touchstart', function(e) {
      if (window.innerWidth <= 768) return;
      isDragging = true;
      const touch = e.touches[0];
      dragOffsetX = touch.clientX - aiBubbleX;
      dragOffsetY = touch.clientY - aiBubbleY;
    }, { passive: true });

    document.addEventListener('mousemove', function(e) {
      if (isDragging && window.innerWidth > 768) {
        aiBubbleX = e.clientX - dragOffsetX;
        aiBubbleY = e.clientY - dragOffsetY;
        
        aiBubbleX = Math.max(20, Math.min(window.innerWidth - 120, aiBubbleX));
        aiBubbleY = Math.max(80, Math.min(window.innerHeight - 120, aiBubbleY));
        
        aiBubbleElement.style.left = aiBubbleX + 'px';
        aiBubbleElement.style.top = aiBubbleY + 'px';
        
        updateThoughtPosition();
      }
    });

    document.addEventListener('touchmove', function(e) {
      if (isDragging && window.innerWidth > 768) {
        const touch = e.touches[0];
        aiBubbleX = touch.clientX - dragOffsetX;
        aiBubbleY = touch.clientY - dragOffsetY;
        
        aiBubbleX = Math.max(20, Math.min(window.innerWidth - 120, aiBubbleX));
        aiBubbleY = Math.max(80, Math.min(window.innerHeight - 120, aiBubbleY));
        
        aiBubbleElement.style.left = aiBubbleX + 'px';
        aiBubbleElement.style.top = aiBubbleY + 'px';
        
        updateThoughtPosition();
      }
    }, { passive: true });

    document.addEventListener('mouseup', function() {
      if (isDragging && window.innerWidth > 768) {
        isDragging = false;
        aiBubbleElement.style.cursor = 'grab';
        showRandomThought('drag');
      }
    });

    document.addEventListener('touchend', function() {
      if (isDragging && window.innerWidth > 768) {
        isDragging = false;
        showRandomThought('drag');
      }
    });

    aiBubbleElement.addEventListener('click', function(e) {
      if (isDragging) return;
      
      clickCount++;
      
      if (clickTimer) {
        clearTimeout(clickTimer);
      }
      
      clickTimer = setTimeout(function() {
        clickCount = 0;
      }, 3000);
      
      const mouth = document.getElementById('aiMouth');
      
      if (clickCount === 1) {
        mouth.classList.remove('sad', 'angry');
        showRandomThought('click');
      } else if (clickCount === 2) {
        mouth.classList.add('sad');
        mouth.classList.remove('angry');
        showRandomThought('sad');
      } else if (clickCount === 3) {
        mouth.classList.remove('sad');
        mouth.classList.add('angry');
        showRandomThought('angry');
      } else if (clickCount > 3) {
        mouth.classList.remove('sad', 'angry');
        showRandomThought('click');
        clickCount = 0;
      }
    });

    const navLinks = document.querySelectorAll('.nav-link');
    const pages = document.querySelectorAll('.page-content');

    function navigateToPage(targetPage) {
      navLinks.forEach(function(l) {
        l.classList.remove('active');
      });
      
      document.querySelectorAll('[data-page="' + targetPage + '"]').forEach(function(l) {
        l.classList.add('active');
      });

      pages.forEach(function(page) {
        page.classList.add('hidden');
      });
      document.getElementById(targetPage + 'Page').classList.remove('hidden');

      currentPage = targetPage;
      showRandomThought();

      const floatingBtn = document.getElementById('floatingRandomBtn');
      if (targetPage === 'video') {
        floatingBtn.classList.add('active');
      } else {
        floatingBtn.classList.remove('active');
      }

      if (targetPage === 'youtube') {
        loadYouTubeVideos();
      }
    }

    navLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        const targetPage = link.getAttribute('data-page');
        navigateToPage(targetPage);
      });
    });

    document.getElementById('themeToggle').addEventListener('click', function() {
      this.classList.toggle('active');
      const sky = document.getElementById('starrySky');
      
      if (this.classList.contains('active')) {
        sky.classList.remove('night');
        sky.classList.add('day');
        currentTheme = 'day';
      } else {
        sky.classList.remove('day');
        sky.classList.add('night');
        currentTheme = 'night';
      }
      
      showRandomThought('themeChange');
    });

    document.getElementById('languageToggle').addEventListener('click', function() {
      this.classList.toggle('active');
      currentLanguage = this.classList.contains('active') ? 'fr' : 'en';
      updateLanguage();
      showRandomThought('languageChange');
    });

    document.getElementById('assistantToggle').addEventListener('click', function() {
      this.classList.toggle('active');
      const wasDisabled = !assistantEnabled;
      assistantEnabled = this.classList.contains('active');
      
      const aiBubble = document.getElementById('aiBubble');
      const thoughtBubble = document.getElementById('aiThoughtBubble');
      
      if (assistantEnabled) {
        aiBubble.style.display = 'flex';
        if (wasDisabled && hasBeenReenabled) {
          showRandomThought('assistantReenabled');
        } else {
          startThoughtLoop();
        }
        hasBeenReenabled = true;
      } else {
        aiBubble.style.display = 'none';
        thoughtBubble.classList.add('hidden');
        if (thoughtInterval) {
          clearInterval(thoughtInterval);
        }
      }
    });

    function showRandomThought(context) {
      if (!assistantEnabled) return;
      
      const t = translations[currentLanguage];
      let thoughts;
      
      if (context === 'click') {
        thoughts = t.clickThoughts;
      } else if (context === 'sad') {
        thoughts = t.sadThoughts;
      } else if (context === 'angry') {
        thoughts = t.angryThoughts;
      } else if (context === 'drag') {
        thoughts = t.dragThoughts;
      } else if (context === 'assistantReenabled') {
        thoughts = t.thoughts.assistantReenabled;
      } else if (context && t.thoughts[context]) {
        thoughts = t.thoughts[context];
      } else {
        thoughts = t.thoughts[currentPage] || t.thoughts.home;
      }
      
      const randomThought = thoughts[Math.floor(Math.random() * thoughts.length)];
      
      const thoughtBubble = document.getElementById('aiThoughtBubble');
      const thoughtText = document.getElementById('aiThought');
      
      thoughtText.textContent = randomThought;
      thoughtBubble.classList.remove('hidden');
      updateThoughtPosition();
      
      setTimeout(function() {
        thoughtBubble.classList.add('hidden');
      }, 8000);
    }

    function startThoughtLoop() {
      if (thoughtInterval) {
        clearInterval(thoughtInterval);
      }
      
      if (assistantEnabled) {
        showRandomThought();
        thoughtInterval = setInterval(showRandomThought, 20000);
      }
    }

    function updateLanguage() {
      const t = translations[currentLanguage];
      
      const navHome = document.getElementById('navHome');
      const navContent = document.getElementById('navContent');
      const navSettings = document.getElementById('navSettings');
      const navOther = document.getElementById('navOther');
      
      navHome.querySelector('.nav-text-desktop').textContent = t.home;
      navContent.querySelector('.nav-text-desktop').textContent = t.content;
      navSettings.querySelector('.nav-text-desktop').textContent = t.settings;
      navOther.querySelector('.nav-text-desktop').textContent = t.other;

      const searchBar = document.getElementById('searchBar');
      searchBar.placeholder = t.searchPlaceholder;

      document.getElementById('homeTitle').textContent = t.welcomeTo + ' ' + defaultConfig.site_name;
      document.getElementById('welcomeMsg').textContent = t.welcomeMsg;
      document.getElementById('youtubePageTitle').textContent = t.contentTitle;
      document.getElementById('loadingVideos').textContent = t.loadingVideos;
      document.getElementById('settingsTitle').textContent = t.settingsTitle;
      document.getElementById('themeLabel').textContent = t.themeLabel;
      document.getElementById('themeDesc').textContent = t.themeDesc;
      document.getElementById('languageLabel').textContent = t.languageLabel;
      document.getElementById('languageDesc').textContent = t.languageDesc;
      document.getElementById('assistantLabel').textContent = t.assistantLabel;
      document.getElementById('assistantDesc').textContent = t.assistantDesc;
      document.getElementById('offLabel').textContent = t.offLabel;
      document.getElementById('onLabel').textContent = t.onLabel;
      document.getElementById('wordOfDayTitle').textContent = t.wordOfDayTitle;
      document.getElementById('wordOfDayContent').textContent = getRandomWordOfDay();
    }

    document.querySelectorAll('.filter-btn').forEach(function(btn) {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.filter-btn').forEach(function(b) {
          b.classList.remove('active');
        });
        btn.classList.add('active');
        currentFilter = btn.getAttribute('data-filter');
        
        if (currentFilter === 'playlist') {
          const videoGrid = document.getElementById('videoGrid');
          const notReadyText = currentLanguage === 'fr' 
            ? 'ğŸ“‚ Les playlists ne sont pas encore intÃ©grÃ©es dans le site. Plus de fonctionnalitÃ©s arrivent bientÃ´t !' 
            : 'ğŸ“‚ Playlists are not yet integrated into the site. More features coming soon!';
          videoGrid.innerHTML = '<div class="col-span-full text-white text-center text-lg p-8">' + notReadyText + '</div>';
        } else {
          displayVideos();
        }
        
        showRandomThought('filterChange');
      });
    });

    document.getElementById('searchBar').addEventListener('input', function(e) {
      searchQuery = e.target.value.toLowerCase();
      displayVideos();
    });

    function openVideoPlayer(video) {
      previousPage = currentPage;
      currentPage = 'video';
      
      const iframe = document.getElementById('playerIframe');
      const title = document.getElementById('playerVideoTitle');
      const description = document.getElementById('playerVideoDescription');
      const date = document.getElementById('playerVideoDate');

      const videoId = video.id.videoId || video.id;
      const embedUrl = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1&rel=0';

      iframe.src = embedUrl;
      title.textContent = video.snippet.title;
      description.textContent = video.snippet.description || (currentLanguage === 'fr' ? 'Aucune description disponible' : 'No description available');
      
      const publishDate = new Date(video.snippet.publishedAt);
      const dateOptions = {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      };
      date.textContent = publishDate.toLocaleDateString(currentLanguage === 'fr' ? 'fr-FR' : 'en-US', dateOptions);
      
      pages.forEach(function(page) {
        page.classList.add('hidden');
      });
      document.getElementById('videoPage').classList.remove('hidden');
      
      document.getElementById('floatingRandomBtn').classList.add('active');
      
      showRandomThought('video');
    }

    document.getElementById('backToVideosBtn').addEventListener('click', function() {
      document.getElementById('playerIframe').src = '';
      currentPage = previousPage;
      pages.forEach(function(page) {
        page.classList.add('hidden');
      });
      document.getElementById(previousPage + 'Page').classList.remove('hidden');
      document.getElementById('floatingRandomBtn').classList.remove('active');
    });

    document.getElementById('floatingRandomBtn').addEventListener('click', function() {
      if (allVideos.length > 0) {
        const randomIndex = Math.floor(Math.random() * allVideos.length);
        openVideoPlayer(allVideos[randomIndex]);
      }
    });

    function displayVideos() {
      const videoGrid = document.getElementById('videoGrid');
      
      if (allVideos.length === 0) {
        return;
      }

      let filteredVideos = allVideos.slice();

      if (searchQuery) {
        filteredVideos = filteredVideos.filter(function(video) {
          const titleMatch = video.snippet.title.toLowerCase().includes(searchQuery);
          const descMatch = video.snippet.description && video.snippet.description.toLowerCase().includes(searchQuery);
          return titleMatch || descMatch;
        });
      }

      switch(currentFilter) {
        case 'recent':
          filteredVideos.sort(function(a, b) {
            return new Date(b.snippet.publishedAt) - new Date(a.snippet.publishedAt);
          });
          break;
        case 'videos':
          filteredVideos = filteredVideos.filter(function(video) {
            return !video.contentDetails || !video.contentDetails.duration || 
              parseDuration(video.contentDetails.duration) > 60;
          });
          break;
        case 'shorts':
          filteredVideos = filteredVideos.filter(function(video) {
            return video.contentDetails && video.contentDetails.duration && 
              parseDuration(video.contentDetails.duration) <= 60;
          });
          break;
        case 'random':
          filteredVideos = shuffleArray(filteredVideos);
          break;
      }

      if (filteredVideos.length === 0) {
        const noVideosText = currentLanguage === 'fr' ? 'Aucune vidÃ©o trouvÃ©e' : 'No videos found';
        videoGrid.innerHTML = '<div class="col-span-full text-white text-center text-xl">' + noVideosText + '</div>';
        return;
      }

      videoGrid.innerHTML = filteredVideos.map(function(video, index) {
        const videoId = video.id.videoId || video.id;
        const title = video.snippet.title;
        const thumbnail = video.snippet.thumbnails.high.url;
        const description = video.snippet.description ? video.snippet.description.substring(0, 80) + '...' : (currentLanguage === 'fr' ? 'Pas de description' : 'No description');
        const publishDate = new Date(video.snippet.publishedAt);
        const dateOptions = {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        };
        const publishedAt = publishDate.toLocaleDateString(currentLanguage === 'fr' ? 'fr-FR' : 'en-US', dateOptions);
        const duration = video.contentDetails ? formatDuration(video.contentDetails.duration) : '';

        return '<div class="video-card" data-video-index="' + index + '">' +
          '<div class="relative">' +
          '<img src="' + thumbnail + '" alt="' + title.replace(/"/g, '&quot;') + '" class="video-thumbnail" onerror="this.src=\'\'; this.alt=\'Image failed to load\'; this.style.display=\'none\';">' +
          (duration ? '<span class="video-duration">' + duration + '</span>' : '') +
          '</div>' +
          '<div class="video-info">' +
          '<h3 class="text-white font-semibold mb-2 line-clamp-2">' + title + '</h3>' +
          '<p class="text-white/60 text-xs sm:text-sm mb-2 line-clamp-2">' + description + '</p>' +
          '<p class="video-date">' + publishedAt + '</p>' +
          '</div>' +
          '</div>';
      }).join('');

      document.querySelectorAll('.video-card').forEach(function(card) {
        card.addEventListener('click', function() {
          const index = parseInt(card.getAttribute('data-video-index'));
          openVideoPlayer(filteredVideos[index]);
        });
      });
    }

    function shuffleArray(array) {
      const shuffled = array.slice();
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        const temp = shuffled[i];
        shuffled[i] = shuffled[j];
        shuffled[j] = temp;
      }
      return shuffled;
    }

    function parseDuration(duration) {
      const match = duration.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);
      const hours = parseInt(match[1]) || 0;
      const minutes = parseInt(match[2]) || 0;
      const seconds = parseInt(match[3]) || 0;
      return hours * 3600 + minutes * 60 + seconds;
    }

    function formatDuration(duration) {
      const seconds = parseDuration(duration);
      const hours = Math.floor(seconds / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      
      if (hours > 0) {
        return hours + ':' + String(minutes).padStart(2, '0') + ':' + String(secs).padStart(2, '0');
      }
      return minutes + ':' + String(secs).padStart(2, '0');
    }

    async function loadYouTubeVideos() {
      if (allVideos.length > 0) {
        displayVideos();
        return;
      }

      const videoGrid = document.getElementById('videoGrid');
      const channelId = defaultConfig.youtube_channel_id;
      const apiKey = defaultConfig.youtube_api_key;

      if (!apiKey) {
        const linkText = currentLanguage === 'fr' ? 'Visiter la chaÃ®ne YouTube ğŸ¬' : 'Visit YouTube Channel ğŸ¬';
        const configText = currentLanguage === 'fr' ? 'âš™ï¸ Configuration requise' : 'âš™ï¸ Configuration required';
        const instrText = currentLanguage === 'fr' 
          ? 'Veuillez ajouter votre clÃ© API YouTube dans les paramÃ¨tres Ã©ditables pour afficher les vidÃ©os.'
          : 'Please add your YouTube API key in the editable settings to display videos.';
        
        videoGrid.innerHTML = '<div class="col-span-full text-white text-center">' +
          '<p class="text-lg sm:text-xl mb-4">' + configText + '</p>' +
          '<p class="text-white/70 text-sm sm:text-base">' + instrText + '</p>' +
          '<a href="https://www.youtube.com/@Krismeow" target="_blank" rel="noopener noreferrer" ' +
          'class="inline-block mt-4 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition-all">' +
          linkText +
          '</a>' +
          '</div>';
        return;
      }

      try {
        const videosResponse = await fetch(
          'https://www.googleapis.com/youtube/v3/search?key=' + apiKey + '&channelId=' + channelId + '&part=snippet&order=date&maxResults=50&type=video'
        );
        const videosData = await videosResponse.json();

        if (videosData.items) {
          const videoIds = videosData.items.map(function(item) {
            return item.id.videoId;
          }).join(',');
          
          const detailsResponse = await fetch(
            'https://www.googleapis.com/youtube/v3/videos?key=' + apiKey + '&id=' + videoIds + '&part=contentDetails'
          );
          const detailsData = await detailsResponse.json();

          videosData.items.forEach(function(video) {
            const details = detailsData.items.find(function(d) {
              return d.id === video.id.videoId;
            });
            if (details) {
              video.contentDetails = details.contentDetails;
            }
          });

          allVideos = videosData.items.slice();

          displayVideos();
        } else {
          const noVideosText = currentLanguage === 'fr' ? 'Aucune vidÃ©o trouvÃ©e' : 'No videos found';
          videoGrid.innerHTML = '<div class="col-span-full text-white text-center text-xl">' + noVideosText + '</div>';
        }
      } catch (error) {
        const errorText = currentLanguage === 'fr' ? 'Erreur lors du chargement des vidÃ©os' : 'Error loading videos';
        videoGrid.innerHTML = '<div class="col-span-full text-white text-center text-xl">' + errorText + '</div>';
        console.error('Error loading videos:', error);
      }
    }

    createStars();
    moveAIBubble();
    updateLanguage();
    startThoughtLoop();

    window.addEventListener('resize', function() {
      updateThoughtPosition();
      const bubble = document.getElementById('aiBubble');
      const isMobile = window.innerWidth <= 768;
      
      if (isMobile) {
        bubble.style.left = 'auto';
        bubble.style.right = '20px';
        bubble.style.top = 'auto';
        bubble.style.bottom = '100px';
      }
    });

    async function onConfigChange(config) {
      const siteName = config.site_name || defaultConfig.site_name;
      const aiName = config.ai_name || defaultConfig.ai_name;

      document.getElementById('siteName').textContent = siteName;
      
      defaultConfig.site_name = siteName;
      defaultConfig.ai_name = aiName;
      defaultConfig.youtube_api_key = config.youtube_api_key || defaultConfig.youtube_api_key;
      defaultConfig.youtube_channel_id = config.youtube_channel_id || defaultConfig.youtube_channel_id;
      
      allVideos = [];
      
      updateLanguage();
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig: defaultConfig,
        onConfigChange: onConfigChange,
        mapToCapabilities: function(config) {
          return {
            recolorables: [
              {
                get: function() {
                  return config.background_color || defaultConfig.background_color;
                },
                set: function(value) {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: function() {
                  return config.ai_bubble_color || defaultConfig.ai_bubble_color;
                },
                set: function(value) {
                  config.ai_bubble_color = value;
                  window.elementSdk.setConfig({ ai_bubble_color: value });
                }
              },
              {
                get: function() {
                  return config.text_color || defaultConfig.text_color;
                },
                set: function(value) {
                  config.text_color = value;
                  window.elementSdk.setConfig({ text_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          };
        },
        mapToEditPanelValues: function(config) {
          return new Map([
            ['site_name', config.site_name || defaultConfig.site_name],
            ['ai_name', config.ai_name || defaultConfig.ai_name],
            ['youtube_api_key', config.youtube_api_key || defaultConfig.youtube_api_key],
            ['youtube_channel_id', config.youtube_channel_id || defaultConfig.youtube_channel_id]
          ]);
        }
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b9a2de141834ed3',t:'MTc2NzY5MTY0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>